/* ============================================
   Terminal — CLI Mode
   Not a palette swap. Structurally strips modern
   web UI: kills transitions, nukes border-radius
   and box-shadow globally, forces monospace on
   everything, collapses the entire color space
   to near-monochrome. You're reading a man page.
   ============================================ */

/* --- Near-monochrome: warm gray on charcoal --- */
[data-theme="terminal"] {
    --bg-dark: #161616;
    --bg-card: #161616;
    --bg-code: #161616;
    --bg-lighter: #1e1e1e;
    --green-bright: #d0ccc4;
    --green-dim: #908c84;
    --green-glow: rgba(176, 172, 164, 0.08);
    --orange: #d0ccc4;
    --purple: #d0ccc4;
    --blue: #d0ccc4;
    --cyan: #d0ccc4;
    --red: #d0ccc4;
    --text-main: #b0aca4;
    --text: var(--text-main);
    --text-dim: #5a5856;
    --border: #2a2826;
}

/* ===========================================
   STRUCTURAL OVERRIDES — these are not colors
   =========================================== */

/* Kill every transition, animation, and timing function.
   A terminal doesn't ease-in-out. Things appear or they don't. */
[data-theme="terminal"] *,
[data-theme="terminal"] *::before,
[data-theme="terminal"] *::after {
    transition: none !important;
    animation: none !important;
    animation-delay: 0s !important;
    animation-duration: 0s !important;
}

/* Preserve sidebar slide — it's functional, not decorative */
[data-theme="terminal"] .sidebar {
    transition: transform 0.15s linear !important;
}

/* Nuke every rounded corner and every shadow.
   Single most impactful structural rule — removes the
   entire "soft card on surface" visual language. */
[data-theme="terminal"] *,
[data-theme="terminal"] *::before,
[data-theme="terminal"] *::after {
    border-radius: 0 !important;
    box-shadow: none !important;
}

/* Monospace everything. Headings, body, buttons, labels.
   Terminals have one font. */
[data-theme="terminal"],
[data-theme="terminal"] body,
[data-theme="terminal"] h1,
[data-theme="terminal"] h2,
[data-theme="terminal"] h3,
[data-theme="terminal"] h4,
[data-theme="terminal"] p,
[data-theme="terminal"] li,
[data-theme="terminal"] span,
[data-theme="terminal"] a,
[data-theme="terminal"] button,
[data-theme="terminal"] select,
[data-theme="terminal"] input,
[data-theme="terminal"] label,
[data-theme="terminal"] .sidebar-link,
[data-theme="terminal"] .module-card,
[data-theme="terminal"] .nav-btn,
[data-theme="terminal"] .stat-value,
[data-theme="terminal"] .stat-label,
[data-theme="terminal"] .theme-picker-label,
[data-theme="terminal"] .exercise-header,
[data-theme="terminal"] .flashcard-front,
[data-theme="terminal"] .flashcard-back {
    font-family: 'JetBrains Mono', 'Cascadia Code', 'Fira Code', 'Courier New', monospace;
}

/* ===========================================
   SUBTLE TEXTURE
   =========================================== */

/* Faint scanlines — just enough to feel non-web */
[data-theme="terminal"] body::after {
    content: '';
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 9999;
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(0, 0, 0, 0.06) 2px,
        rgba(0, 0, 0, 0.06) 4px
    );
}

[data-theme="terminal"] body {
    background: #161616;
}

/* Selection */
[data-theme="terminal"] ::selection {
    background: rgba(176, 172, 164, 0.25);
    color: #fff;
}

/* ===========================================
   HEADINGS — terminal section headers
   =========================================== */

[data-theme="terminal"] h1 {
    text-transform: uppercase;
    letter-spacing: 0.1em;
    border-bottom: 1px dashed var(--border);
    padding-bottom: 0.4em;
}

[data-theme="terminal"] h2,
[data-theme="terminal"] h3 {
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-bottom: 1px dashed var(--border);
    padding-bottom: 0.4em;
}

/* Remove all decorative heading pseudo-elements */
[data-theme="terminal"] h1::after,
[data-theme="terminal"] h2::after,
[data-theme="terminal"] h3::after,
[data-theme="terminal"] .lesson h1::after,
[data-theme="terminal"] .lesson h2::after,
[data-theme="terminal"] .lesson h3::after {
    display: none !important;
}

/* ===========================================
   SYNTAX HIGHLIGHTING — monochrome
   Differentiated by brightness only, not hue.
   Like reading `cat` output with a dim highlighter.
   =========================================== */

[data-theme="terminal"] .hljs { color: #b0aca4; }

[data-theme="terminal"] .hljs-keyword,
[data-theme="terminal"] .hljs-selector-tag,
[data-theme="terminal"] .hljs-built_in,
[data-theme="terminal"] .hljs-name { color: #d0ccc4; font-weight: bold; }

[data-theme="terminal"] .hljs-string,
[data-theme="terminal"] .hljs-attr,
[data-theme="terminal"] .hljs-symbol,
[data-theme="terminal"] .hljs-bullet,
[data-theme="terminal"] .hljs-addition { color: #9a968e; }

[data-theme="terminal"] .hljs-title,
[data-theme="terminal"] .hljs-title.function_,
[data-theme="terminal"] .hljs-section { color: #c0bbb4; }

[data-theme="terminal"] .hljs-comment,
[data-theme="terminal"] .hljs-quote,
[data-theme="terminal"] .hljs-deletion { color: #4a4844; font-style: italic; }

[data-theme="terminal"] .hljs-type,
[data-theme="terminal"] .hljs-template-tag,
[data-theme="terminal"] .hljs-class .hljs-title { color: #908c84; }

[data-theme="terminal"] .hljs-number,
[data-theme="terminal"] .hljs-literal,
[data-theme="terminal"] .hljs-variable,
[data-theme="terminal"] .hljs-template-variable,
[data-theme="terminal"] .hljs-tag .hljs-attr { color: #b8b4ac; }

[data-theme="terminal"] .hljs-meta,
[data-theme="terminal"] .hljs-doctag { color: #5a5856; }
[data-theme="terminal"] .hljs-params { color: #b0aca4; }
[data-theme="terminal"] .hljs-punctuation { color: #5a5856; }

/* ===========================================
   CONTAINERS — no cards, just bordered regions
   bg-card === bg-dark so cards vanish into the
   background. Dashed borders are the only
   structural cue, like box-drawing characters.
   =========================================== */

[data-theme="terminal"] .module-card,
[data-theme="terminal"] .card,
[data-theme="terminal"] .stat-card,
[data-theme="terminal"] .exercise {
    border: 1px dashed var(--border);
    background: transparent;
}

/* Kill hover lift/glow — if you hover, the border brightens. That's it. */
[data-theme="terminal"] .module-card:hover,
[data-theme="terminal"] .card:hover,
[data-theme="terminal"] .stat-card:hover {
    transform: none !important;
    border-color: #5a5856;
    background: transparent;
}

/* Code blocks: same background as page, dashed border */
[data-theme="terminal"] .code-block,
[data-theme="terminal"] .lesson pre {
    border: 1px dashed var(--border);
    background: transparent;
}

/* Inline code: everything is already monospace, so just a subtle brightness bump */
[data-theme="terminal"] code:not(.code-block code):not(pre code) {
    background: transparent;
    border: none;
    color: #d0ccc4;
}

/* ===========================================
   BUTTONS — [ SUBMIT ] style, no fill
   =========================================== */

[data-theme="terminal"] .nav-btn,
[data-theme="terminal"] .quick-btn,
[data-theme="terminal"] .start-btn,
[data-theme="terminal"] .resume-btn,
[data-theme="terminal"] .fc-rate-btn,
[data-theme="terminal"] .session-control-btn,
[data-theme="terminal"] .data-btn,
[data-theme="terminal"] .rating-btn {
    border: 1px solid var(--border);
    background: transparent;
    color: #b0aca4;
    text-transform: uppercase;
    letter-spacing: 0.06em;
}

[data-theme="terminal"] .nav-btn:hover,
[data-theme="terminal"] .quick-btn:hover,
[data-theme="terminal"] .start-btn:hover,
[data-theme="terminal"] .resume-btn:hover,
[data-theme="terminal"] .fc-rate-btn:hover,
[data-theme="terminal"] .session-control-btn:hover,
[data-theme="terminal"] .data-btn:hover,
[data-theme="terminal"] .rating-btn:hover {
    background: rgba(176, 172, 164, 0.06);
    border-color: #5a5856;
}

/* Primary buttons: brighter border, still no fill */
[data-theme="terminal"] .nav-btn.primary,
[data-theme="terminal"] .quick-btn.primary {
    border-color: #5a5856;
    color: #d0ccc4;
}

/* ===========================================
   TIP / WARNING / INFO — plain text labels
   No emoji, no color coding. It's a terminal.
   =========================================== */

[data-theme="terminal"] .tip,
[data-theme="terminal"] .warning,
[data-theme="terminal"] .info {
    background: transparent;
    border: 1px dashed var(--border);
    border-left: 2px solid #3a3836;
}

[data-theme="terminal"] .tip::before {
    content: '> TIP:' !important;
    color: #b0aca4;
}

[data-theme="terminal"] .warning::before {
    content: '> WARN:' !important;
    color: #b0aca4;
}

[data-theme="terminal"] .info::before {
    content: '> NOTE:' !important;
    color: #b0aca4;
}

/* ===========================================
   SIDEBAR — file tree, not a panel
   =========================================== */

[data-theme="terminal"] .sidebar {
    background: #161616;
    border-right: 1px dashed var(--border);
}

[data-theme="terminal"] .sidebar-link {
    border-left-color: transparent;
}

[data-theme="terminal"] .sidebar-link:hover {
    background: rgba(176, 172, 164, 0.04);
}

[data-theme="terminal"] .sidebar-link.active {
    background: transparent;
    border-left-color: transparent;
    color: #d0ccc4;
}

/* Active item gets a > prefix like a shell prompt */
[data-theme="terminal"] .sidebar-link.active::before {
    content: '> ';
}

[data-theme="terminal"] .sidebar-link.sidebar-project-link {
    color: #b0aca4;
}

[data-theme="terminal"] .sidebar-link.sidebar-project-link.active {
    border-left-color: transparent;
}

/* ===========================================
   FLASHCARDS
   =========================================== */

[data-theme="terminal"] .flashcard-front,
[data-theme="terminal"] .flashcard-back {
    border: 1px dashed var(--border);
    background: #161616;
}

/* ===========================================
   PROGRESS — flat bar, no glow, no gradient
   =========================================== */

[data-theme="terminal"] .exercise-progress-fill,
[data-theme="terminal"] .session-progress-bar,
[data-theme="terminal"] .strength-fill {
    background: #908c84;
}

/* ===========================================
   LINKS — underline is the only affordance.
   =========================================== */

[data-theme="terminal"] a {
    color: #b0aca4;
    text-decoration: underline;
    text-decoration-style: dashed;
    text-decoration-color: #3a3836;
    text-underline-offset: 3px;
}

[data-theme="terminal"] a:hover {
    color: #d0ccc4;
    text-decoration-style: solid;
    text-decoration-color: #908c84;
}

/* Sidebar links don't need underlines — they're a list */
[data-theme="terminal"] .sidebar-link,
[data-theme="terminal"] .sidebar-link:hover {
    text-decoration: none;
}

/* Breadcrumb links */
[data-theme="terminal"] .breadcrumb a {
    text-decoration: none;
}

/* ===========================================
   SCROLLBAR
   =========================================== */

[data-theme="terminal"] ::-webkit-scrollbar {
    width: 6px;
}

[data-theme="terminal"] ::-webkit-scrollbar-track {
    background: #161616;
}

[data-theme="terminal"] ::-webkit-scrollbar-thumb {
    background: #2a2826;
}

[data-theme="terminal"] ::-webkit-scrollbar-thumb:hover {
    background: #3a3836;
}

/* ===========================================
   MISC CONTAINERS
   =========================================== */

[data-theme="terminal"] .visual-box,
[data-theme="terminal"] .quote-box,
[data-theme="terminal"] .comparison-block,
[data-theme="terminal"] .exercise-jump-box {
    border: 1px dashed var(--border);
    background: transparent;
}

[data-theme="terminal"] .quote-box {
    border-left: 2px solid #3a3836;
}

/* Annotations */
[data-theme="terminal"] .annotation {
    border: 1px dashed var(--border);
    background: transparent;
}

/* ===========================================
   THEME PICKER / CONTROLS
   =========================================== */

[data-theme="terminal"] .theme-picker {
    background: #161616;
    border: 1px dashed var(--border);
}

[data-theme="terminal"] .theme-select {
    background: #161616;
    color: #b0aca4;
    border-color: var(--border);
}

[data-theme="terminal"] .focus-toggle,
[data-theme="terminal"] .show-timer-toggle {
    background: transparent;
    border-color: var(--border);
    color: #b0aca4;
}

[data-theme="terminal"] .focus-toggle:hover,
[data-theme="terminal"] .show-timer-toggle:hover {
    border-color: #5a5856;
    background: rgba(176, 172, 164, 0.06);
}

/* ===========================================
   SESSION TIMER
   =========================================== */

[data-theme="terminal"] .floating-session-timer,
[data-theme="terminal"] .session-timer {
    background: #161616;
    border: 1px dashed var(--border);
}

[data-theme="terminal"] .session-countdown {
    color: #d0ccc4;
}

[data-theme="terminal"] .session-duration-select {
    background: #161616;
    color: #b0aca4;
    border-color: var(--border);
}

/* ===========================================
   CODE COMPARE / LABELED BLOCKS
   =========================================== */

[data-theme="terminal"] .code-compare {
    border: 1px dashed var(--border);
    background: transparent;
}

[data-theme="terminal"] .code-compare .code-labeled + .code-labeled {
    border-left: 1px dashed var(--border);
}

[data-theme="terminal"] .code-labeled {
    border: 1px dashed var(--border);
}

[data-theme="terminal"] .code-header {
    background: transparent;
    border-bottom: 1px dashed var(--border);
    text-transform: uppercase;
    letter-spacing: 0.06em;
    color: #5a5856;
}

/* ===========================================
   DETAILS / SUMMARY — collapsible sections
   =========================================== */

[data-theme="terminal"] details summary {
    color: #b0aca4;
}

[data-theme="terminal"] details summary:hover {
    color: #d0ccc4;
}

[data-theme="terminal"] details summary::before {
    content: '[+] ' !important;
    font-size: 1em;
}

[data-theme="terminal"] details[open] summary::before {
    content: '[-] ' !important;
}

[data-theme="terminal"] .hint-content {
    background: transparent;
    border: 1px dashed var(--border);
}

/* ===========================================
   HR — dashed separator
   =========================================== */

[data-theme="terminal"] hr {
    border: none;
    border-top: 1px dashed var(--border);
}

/* ===========================================
   TABLES — markdown-generated
   =========================================== */

[data-theme="terminal"] table {
    border-collapse: collapse;
}

[data-theme="terminal"] th,
[data-theme="terminal"] td {
    border: 1px dashed var(--border);
    padding: 0.5rem 0.75rem;
}

[data-theme="terminal"] th {
    text-transform: uppercase;
    letter-spacing: 0.06em;
    font-size: 0.85em;
    color: #5a5856;
    background: transparent;
}

[data-theme="terminal"] thead {
    border-bottom: 1px dashed #5a5856;
}

/* ===========================================
   SIDEBAR — section links & special links
   =========================================== */

[data-theme="terminal"] .sidebar-section-link {
    color: #5a5856;
}

[data-theme="terminal"] .sidebar-section-link:hover,
[data-theme="terminal"] .sidebar-section-link.active {
    color: #b0aca4;
}

[data-theme="terminal"] .sidebar-header a {
    color: #5a5856;
}

[data-theme="terminal"] .sidebar-header a:hover {
    color: #b0aca4;
}

/* Module number labels in sidebar */
[data-theme="terminal"] .sidebar-module-num {
    color: #5a5856;
    opacity: 1;
}

/* ===========================================
   MODULE TAG / NUMBER
   =========================================== */

[data-theme="terminal"] .module-tag {
    color: #5a5856;
    text-transform: uppercase;
    letter-spacing: 0.06em;
}

[data-theme="terminal"] .module-num {
    color: #5a5856;
}

/* ===========================================
   BLOCKQUOTE
   =========================================== */

[data-theme="terminal"] blockquote {
    border-left: 2px solid #3a3836;
    color: #908c84;
    background: transparent;
}

/* ===========================================
   LISTS — plain markers
   =========================================== */

[data-theme="terminal"] .lesson ul {
    list-style-type: '- ';
}

[data-theme="terminal"] .lesson ol {
    color: #b0aca4;
}
