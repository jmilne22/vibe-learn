[data-theme="light"] {
    /* Surface layers — purple-tinted whites */
    --bg-base:       #F8F6FB;
    --bg-surface:    #FFFFFF;
    --bg-elevated:   #EFECF5;
    --bg-overlay:    #E4E0F0;
    --bg-muted:      #D8D2E6;

    /* Borders */
    --border-subtle:  #E4E0F0;
    --border-default: #D0CAE0;
    --border-strong:  #B5AEC8;

    /* Text hierarchy */
    --text-primary:   #1E1830;
    --text-secondary: #5E5478;
    --text-tertiary:  #867CA0;
    --text-ghost:     #B5AEC8;

    /* Accent palette — darker for light-bg readability */
    --amethyst:       #7A62C8;
    --amethyst-dim:   #6650B0;
    --amethyst-glow:  rgba(122, 98, 200, 0.12);
    --amethyst-subtle: rgba(122, 98, 200, 0.06);
    --amber:          #C87E52;
    --amber-dim:      #B06A40;
    --amber-glow:     rgba(200, 126, 82, 0.12);
    --slate:          #4A90C0;
    --slate-glow:     rgba(74, 144, 192, 0.12);
    --sage:           #5A8F5A;
    --sage-glow:      rgba(90, 143, 90, 0.12);
    --gold:           #A89058;
    --coral:          #C04850;
    --coral-glow:     rgba(192, 72, 80, 0.12);
    --lavender:       #8B70B8;
    --lavender-glow:  rgba(139, 112, 184, 0.12);

    /* Syntax highlighting — darker for light bg */
    --syntax-keyword:  #8B70B8;
    --syntax-string:   #4A8F4A;
    --syntax-function: #3D7A8C;
    --syntax-type:     #9A7E4A;
    --syntax-number:   #B56A4A;
    --syntax-comment:  #867CA0;

    /* Semantic shortcuts */
    --accent: var(--amethyst);
    --accent-hover: #6650B0;
    --text: var(--text-primary);
    --shadow-accent: 0 0 10px rgba(122, 98, 200, 0.06);

    /* Old name aliases for JS/template compatibility */
    --forest:       var(--amethyst);
    --forest-dim:   var(--amethyst-dim);
    --forest-glow:  var(--amethyst-glow);
    --forest-subtle: var(--amethyst-subtle);
    --clay:         var(--amber);
    --clay-dim:     var(--amber-dim);
    --clay-glow:    var(--amber-glow);
    --sand:         var(--gold);
    --moss:         var(--sage);
    --river:        var(--slate);
    --river-glow:   var(--slate-glow);
    --ember:        var(--coral);
    --ember-glow:   var(--coral-glow);
    --lichen:       var(--lavender);
    --lichen-glow:  var(--lavender-glow);
    --green-bright: var(--amethyst);
    --green-dim:    var(--amethyst-dim);
    --green-glow:   var(--amethyst-glow);
    --green-subtle: var(--amethyst-subtle);
    --orange:       var(--amber);
    --orange-glow:  var(--amber-glow);
    --purple:       var(--lavender);
    --purple-glow:  var(--lavender-glow);
    --blue:         var(--slate);
    --blue-glow:    var(--slate-glow);
    --cyan:         var(--slate);
    --cyan-glow:    var(--slate-glow);
    --red:          var(--coral);
    --red-glow:     var(--coral-glow);

    /* Light shadows — purple-tinted */
    --shadow-xs: 0 1px 2px rgba(30, 24, 48, 0.05);
    --shadow-sm: 0 2px 6px rgba(30, 24, 48, 0.06), 0 1px 2px rgba(30, 24, 48, 0.04);
    --shadow-md: 0 4px 12px rgba(30, 24, 48, 0.08), 0 2px 4px rgba(30, 24, 48, 0.04);
    --shadow-lg: 0 8px 24px rgba(30, 24, 48, 0.1), 0 4px 8px rgba(30, 24, 48, 0.04);
    --shadow-xl: 0 16px 48px rgba(30, 24, 48, 0.12), 0 8px 16px rgba(30, 24, 48, 0.06);
    --shadow-glow-green: 0 0 8px rgba(122, 98, 200, 0.06);
    --shadow-glow-orange: 0 0 8px rgba(200, 126, 82, 0.06);
    --shadow-glow-purple: 0 0 8px rgba(139, 112, 184, 0.06);

    /* Color-tinted shadows — softer for light bg */
    --shadow-amethyst-sm: 0 2px 8px rgba(122, 98, 200, 0.08), 0 1px 3px rgba(30, 24, 48, 0.06);
    --shadow-amethyst-md: 0 4px 20px rgba(122, 98, 200, 0.10), 0 2px 6px rgba(30, 24, 48, 0.06);
    --shadow-amethyst-lg: 0 8px 40px rgba(122, 98, 200, 0.12), 0 4px 12px rgba(30, 24, 48, 0.08);
    --shadow-amber-sm: 0 2px 8px rgba(200, 126, 82, 0.08), 0 1px 3px rgba(30, 24, 48, 0.06);

    /* Gradient tokens — adapted for light surfaces */
    --gradient-amethyst: linear-gradient(135deg, var(--amethyst-dim), var(--amethyst));
    --gradient-surface: linear-gradient(180deg, rgba(255,255,255,0.8) 0%, rgba(240,236,248,0.4) 100%);
    --gradient-border-amethyst: linear-gradient(135deg, rgba(122, 98, 200, 0.35), rgba(122, 98, 200, 0.08));
    --gradient-border-amber: linear-gradient(135deg, rgba(200, 126, 82, 0.35), rgba(200, 126, 82, 0.08));
}

/* ============================================
   Light theme — Atmosphere & Body
   ============================================ */
[data-theme="light"] body {
    background-image: radial-gradient(ellipse 80% 60% at 20% 50%, rgba(122, 98, 200, 0.05) 0%, transparent 70%),
                      radial-gradient(ellipse 60% 80% at 85% 15%, rgba(139, 112, 184, 0.04) 0%, transparent 60%),
                      radial-gradient(ellipse 50% 40% at 60% 85%, rgba(200, 126, 82, 0.03) 0%, transparent 60%);
}

/* Noise texture — subtler on light backgrounds */
[data-theme="light"] body::before {
    opacity: 0.18;
    mix-blend-mode: multiply;
}

/* ============================================
   Light theme — Code blocks
   ============================================ */
[data-theme="light"] .code-block,
[data-theme="light"] .lesson pre {
    background: #EDEAF6;
    border-color: rgba(122, 98, 200, 0.20);
    box-shadow: 0 2px 12px rgba(30, 24, 48, 0.06), inset 0 1px 0 rgba(122, 98, 200, 0.06);
}

[data-theme="light"] .lesson pre {
    border-left-color: var(--amethyst);
}

[data-theme="light"] .lesson pre:hover {
    box-shadow: 0 6px 24px rgba(30, 24, 48, 0.08), 0 0 20px rgba(122, 98, 200, 0.06), inset 0 1px 0 rgba(122, 98, 200, 0.08);
}

[data-theme="light"] .code-header {
    background: #E2DEF2;
    border-bottom-color: rgba(122, 98, 200, 0.25);
    color: var(--amethyst);
}

[data-theme="light"] code:not(.code-block code):not(pre code) {
    background: rgba(122, 98, 200, 0.08);
    color: var(--amethyst);
    border-color: rgba(122, 98, 200, 0.18);
}

/* ============================================
   Light theme — Content elements
   ============================================ */
[data-theme="light"] .lesson blockquote {
    background: rgba(200, 126, 82, 0.08);
    border-left-color: var(--amber);
}

[data-theme="light"] .lesson table {
    border-color: rgba(122, 98, 200, 0.15);
}

[data-theme="light"] .lesson table th {
    background: rgba(122, 98, 200, 0.08);
    color: var(--amethyst);
}

/* Exercise cards */
[data-theme="light"] .exercise {
    background: rgba(200, 126, 82, 0.08);
    border-color: rgba(200, 126, 82, 0.20);
}

[data-theme="light"] .exercise::after {
    background: linear-gradient(90deg, rgba(200, 126, 82, 0.06), transparent);
}

[data-theme="light"] .exercise:hover {
    box-shadow: 0 2px 12px rgba(200, 126, 82, 0.10), 0 1px 4px rgba(30, 24, 48, 0.04);
}

/* Callout boxes */
[data-theme="light"] .tip {
    background: rgba(90, 143, 90, 0.10);
}

[data-theme="light"] .tip::before {
    background: rgba(90, 143, 90, 0.10);
}

[data-theme="light"] .warning {
    background: rgba(192, 72, 80, 0.10);
}

[data-theme="light"] .warning::before {
    background: rgba(192, 72, 80, 0.10);
}

[data-theme="light"] .info {
    background: rgba(74, 144, 192, 0.10);
}

[data-theme="light"] .info::before {
    background: rgba(74, 144, 192, 0.10);
}

/* Callout cards */
[data-theme="light"] .callout {
    border-color: var(--border-default);
}
[data-theme="light"] .callout-header {
    border-bottom-color: var(--border-subtle);
}
[data-theme="light"] .callout.tip .callout-header {
    background: rgba(90, 143, 90, 0.12);
    color: var(--sage);
}
[data-theme="light"] .callout.warning .callout-header {
    background: rgba(192, 72, 80, 0.12);
    color: var(--coral);
}
[data-theme="light"] .callout.info .callout-header {
    background: rgba(74, 144, 192, 0.12);
    color: var(--slate);
}
[data-theme="light"] .callout.definition .callout-header {
    background: rgba(122, 98, 200, 0.12);
    color: var(--amethyst);
}
[data-theme="light"] .callout.example .callout-header {
    background: rgba(200, 126, 82, 0.12);
    color: var(--amber);
}

/* Exercise type tag */
[data-theme="light"] .exercise-type-tag {
    background: rgba(200, 126, 82, 0.08);
    border-color: rgba(200, 126, 82, 0.18);
    color: var(--amber);
}

[data-theme="light"] .visual-box {
    background: rgba(74, 144, 192, 0.05);
    border-color: rgba(74, 144, 192, 0.15);
}

/* ============================================
   Light theme — Dashboard & Module cards
   ============================================ */
[data-theme="light"] .module-item {
    background: var(--bg-surface);
    border-color: var(--border-subtle);
}

[data-theme="light"] .module-item::before {
    background: var(--gradient-border-amethyst);
}

[data-theme="light"] .module-item:hover {
    background: rgba(122, 98, 200, 0.03);
    border-color: transparent;
    box-shadow: var(--shadow-amethyst-sm);
}

[data-theme="light"] .stat-chip {
    background: rgba(122, 98, 200, 0.05);
    border-color: rgba(122, 98, 200, 0.10);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
}

[data-theme="light"] .stat-chip:hover {
    box-shadow: 0 2px 8px rgba(30, 24, 48, 0.06);
}

[data-theme="light"] .stats-detail-content {
    background: rgba(139, 112, 184, 0.03);
    border-color: rgba(139, 112, 184, 0.12);
}

/* Resume button */
[data-theme="light"] .resume-btn {
    box-shadow: 0 2px 8px rgba(122, 98, 200, 0.15);
}

[data-theme="light"] .resume-btn:hover {
    box-shadow: 0 4px 16px rgba(122, 98, 200, 0.2);
}

/* Quick buttons gradient border */
[data-theme="light"] .quick-btn::before {
    background: var(--gradient-border-amethyst);
}

/* ============================================
   Light theme — Sidebar
   ============================================ */
[data-theme="light"] .sidebar {
    background: linear-gradient(180deg, var(--bg-surface) 0%, #F0ECF8 100%);
    border-right-color: rgba(122, 98, 200, 0.12);
    box-shadow: 2px 0 12px rgba(30, 24, 48, 0.04);
    scrollbar-color: rgba(122, 98, 200, 0.12) transparent;
}

[data-theme="light"] .sidebar-header {
    border-bottom-color: rgba(122, 98, 200, 0.15);
    background: rgba(122, 98, 200, 0.02);
}

[data-theme="light"] .sidebar-link.active {
    background: rgba(122, 98, 200, 0.08);
    box-shadow: inset 3px 0 0 var(--amethyst);
}

[data-theme="light"] .sidebar-chapter-title.active {
    box-shadow: inset 3px 0 0 var(--amethyst);
}

[data-theme="light"] .sidebar-section-link.active,
[data-theme="light"] .sidebar-h2-link.active {
    color: var(--amethyst);
}

/* ============================================
   Light theme — Session & Plugin UI
   ============================================ */

/* Session config */
[data-theme="light"] .session-config {
    background: var(--bg-surface);
    box-shadow: var(--shadow-sm);
}

[data-theme="light"] .session-config::before {
    background: linear-gradient(90deg, transparent, rgba(122, 98, 200, 0.15), transparent);
}

/* Session options */
[data-theme="light"] .session-option {
    background: var(--bg-elevated);
}

[data-theme="light"] .session-option:hover {
    box-shadow: 0 2px 8px rgba(30, 24, 48, 0.06);
}

[data-theme="light"] .session-option.active {
    box-shadow: 0 0 0 1px var(--amethyst), 0 2px 8px rgba(122, 98, 200, 0.08);
}

/* Session start button */
[data-theme="light"] .session-start-btn {
    box-shadow: 0 2px 8px rgba(122, 98, 200, 0.15);
}

[data-theme="light"] .session-start-btn:hover {
    box-shadow: 0 4px 16px rgba(122, 98, 200, 0.2);
}

/* Session complete */
[data-theme="light"] .session-complete {
    background: var(--bg-surface);
    box-shadow: var(--shadow-md);
}

[data-theme="light"] .session-complete::before {
    background: linear-gradient(90deg, transparent, var(--session-accent, var(--amethyst)), transparent);
    opacity: 0.6;
}

/* Flashcard faces */
[data-theme="light"] .fc-card-face {
    background: var(--bg-surface);
    box-shadow: var(--shadow-sm);
}

/* Stat cards — analytics */
[data-theme="light"] .stat-card {
    background: var(--bg-surface);
    box-shadow: var(--shadow-xs);
}

[data-theme="light"] .stat-card::before {
    background: var(--gradient-border-amethyst);
}

[data-theme="light"] .stat-card:hover {
    box-shadow: var(--shadow-sm);
}

/* ============================================
   Light theme — Inline exercises
   ============================================ */
[data-theme="light"] .inline-exercises {
    background: rgba(122, 98, 200, 0.04);
    box-shadow: 0 0 24px rgba(122, 98, 200, 0.04);
}

[data-theme="light"] .inline-exercises::before {
    background: linear-gradient(90deg, transparent, var(--amethyst), transparent);
    opacity: 0.3;
}

[data-theme="light"] .exercise-completed {
    background: rgba(90, 143, 90, 0.03);
}

/* ============================================
   Light theme — Navigation
   ============================================ */
[data-theme="light"] .nav-btn {
    background: var(--bg-surface);
    box-shadow: var(--shadow-xs);
}

[data-theme="light"] .nav-btn:hover {
    box-shadow: var(--shadow-sm);
}

[data-theme="light"] .nav-btn.next-btn:hover {
    box-shadow: var(--shadow-amethyst-sm);
}

/* ============================================
   Light theme — Typography & Selection
   ============================================ */
[data-theme="light"] ::selection {
    background: rgba(122, 98, 200, 0.25);
    color: #1E1830;
}

[data-theme="light"] .lesson table tr:hover td {
    background: rgba(122, 98, 200, 0.05);
}

[data-theme="light"] .lesson a {
    text-decoration-color: rgba(122, 98, 200, 0.3);
}

[data-theme="light"] .lesson a:hover {
    text-decoration-color: var(--amethyst);
}

/* H2 section divider gradient */
[data-theme="light"] .lesson h2 {
    background-image: linear-gradient(90deg, var(--amethyst-dim), rgba(122, 98, 200, 0.2), transparent);
}

/* Blockquote gradient bar */
[data-theme="light"] .lesson blockquote::before {
    background: linear-gradient(180deg, var(--amber), var(--gold));
}

[data-theme="light"] .code-compare,
[data-theme="light"] .code-labeled {
    border-color: rgba(122, 98, 200, 0.15);
}

/* ============================================
   Light theme — Scrollbars
   ============================================ */
[data-theme="light"] pre::-webkit-scrollbar-thumb {
    background: rgba(122, 98, 200, 0.15);
}

[data-theme="light"] pre::-webkit-scrollbar-thumb:hover {
    background: rgba(122, 98, 200, 0.3);
}

[data-theme="light"] .sidebar::-webkit-scrollbar-thumb {
    background: rgba(122, 98, 200, 0.12);
}

[data-theme="light"] .sidebar::-webkit-scrollbar-thumb:hover {
    background: rgba(122, 98, 200, 0.25);
}

/* ============================================
   Light theme — Scroll progress
   ============================================ */
[data-theme="light"] .scroll-progress {
    box-shadow: none;
}

/* ============================================
   Light theme — Algorithm & Drill UI
   ============================================ */
[data-theme="light"] .drill-container {
    background: rgba(122, 98, 200, 0.04);
    border-color: rgba(122, 98, 200, 0.20);
    border-left-color: var(--amethyst);
}
[data-theme="light"] .drill-container-header {
    border-bottom-color: rgba(122, 98, 200, 0.12);
}
[data-theme="light"] .concept-mastery-panel {
    background: rgba(122, 98, 200, 0.03);
    border-color: rgba(122, 98, 200, 0.12);
}

/* Algorithm category cards */
[data-theme="light"] .algo-category-card {
    background: var(--bg-surface);
    box-shadow: var(--shadow-xs);
}

[data-theme="light"] .algo-category-card:hover {
    box-shadow: var(--shadow-sm);
}

/* Detail panels */
[data-theme="light"] .detail-panel[open] {
    box-shadow: var(--shadow-sm);
}

/* ============================================
   Light theme — Focus states
   ============================================ */
[data-theme="light"] :focus-visible {
    outline-color: var(--amethyst);
}
